\documentclass[FM,BP]{tulthesis}
\usepackage[czech]{babel}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}

\TULtitle{Koncept nízkonákladového sledovacího zařízení pro osobní automobily}{The concept of a low cost tracking device for personal cars}
\TULprogramme{B2646}{Informační technologie}{Information Technology}
\TULbranch{1802R007}{Informační technologie}{Information Technology}
\TULauthor{Tomáš Moravec}
\TULsupervisor{Ing. Lenka Kosková - Třísková}
\TULyear{2016}

\begin{document}
\ThesisStart{male}

\begin{acknowledgement}
Děkuji vedoucí práce paní Ing. Lence Koskové Třískové za odborné vedení a poskytnuté informace při zpracování závěrečné bakalářské práce. Mé poděkování patří též Tomáši Stránskému za sdílení praktických zkušeností s použitými komponenty.
\end{acknowledgement}

\begin{abstractCZ}
Práce se zabývá problematikou sledovacích zařízení pro osobní automobily. V úvodu je definován pojem sledovacího zařízení a požadovaných vlastností. Následuje rešerše aktuální situace na trhu a srovnání užitých konceptů pro realizaci sledovacích zařízení. Na základě rešerše je navržen koncept sledovacího zařízení pro osobní automobily s cílem vytvořit levné a spolehlivé zařízení pro střední a nižší třídu vozů. Výstupem práce je prototyp cílového zařízení, který demonstruje zvolené hardwarové i softwarové řešení.
\end{abstractCZ}

\vspace{2cm}

\begin{abstractEN}
Thesis deals with tracking devices for cars. The introduction defines the concept of surveillance equipment and required attributes. Following a research of the current market situation and comparison of the concepts used for implementing surveillance equipment. Based on the research is designed concept of tracking devices for cars in order to create a cheap and reliable device for middle and lower class cars. The outcome of this work is the prototype of the target device, which demonstrates the chosen hardware and software solution.
\end{abstractEN}

\tableofcontents
\clearpage

\begin{abbrList}
\textbf{GPS} & Global Positioning System, družicový polohovací systém\\
\textbf{GSM} & Groupe Spécial Mobile, globální systém pro mobilní komunikaci\\
\textbf{GPRS} & General Packet Radio Service, služba pro přenos dat v mobilní síti\\
\textbf{GLONASS} & Globalnaja navigacionnaja sputnikovaja sistěma, globální navigační satelitní systém\\
\end{abbrList}

\chapter{Úvod}
Not supported yet.

\section{Sledovací zařízení}
Sledovací zařízení je přístroj, udávající svou vlastní polohu na planetě zemi, pomocí zeměpisné šířky a délky. Poloha se určuje vzhledem k systému družic GPS, které obíhají rovnoměrně rozprostřeny na oběžné dráze země. Typicky slouží ke sledování osob, vozidel, či nákladu a jeho využití najdou jak běžní domácí uživatelé a bezpečnostní agentury, usilující o bezpečnost vozidel, podniky monitorující pohyb svého vozového parku (Fleet management), nebo velké logistické společnosti, sledující pohyby zásilek nebo kontejnerů. Přesnost polohy je pro uživatelský sektor desítky metrů, zatím co autorizovaní uživatelé (americká armáda a vybrané spojenecké armády) mají k dispozici přesnost v jednotkách metrů... Vyšší přesnosti se dosahuje pomocí mnoha způsobů, jako například mobilní sítě, další navigační systémy, matematické výpočty. Za ideálních podmínek lze přesnost zvýšit i na jednotky centimetrů. Přesnost vertikální je zpravidla 2x až 3x tak horší než zmiňovaná horizontální.

\subsection{Historie}
Polohovací systém GPS je vojenský globální družicový systém, provozovaný Ministerstvem obrany Spojených států amerických. Projekt navazuje na předchozí NAVSTAR GPS a od roku 1978 bylo do dnešního dne vypuštěno celkem 32 družic. Družice nebyly vpouštěny pouze za účelem určování polohy pro navádění raket a dalších zařízení, ale také aby detekovali vypuštění balistických raket a výbuchy jaderných bomb. Všechny satelity byly také vybaveny přesnými atomovými hodinami, které dnes dodávají přesný čas po celé zemi. Původně vojenský projekt se stal dostupným i pro neautorizované uživatele z finančních důvodů, aby nemusel být zrušen. V roce 1990 během války v Zálivu byla dočasně deaktivována dostupnost pro neautorizované uživatele a zapojena byla opět v roce 1991.

\subsection{Přítomnost}
Satelitní systém GPS se stal synonymem pro sledovací zařízení a určování polohy a je celosvětově využíván ve všech lidských odvětvých. Nicméně dnes není jediným projektem poskytujícím zěměpisnou polohu. Od roku 2011 je k dispozici ruský armádní polohový systém GLONASS, který se vyznačuje stejnou přesností jako systém GPS. Pomalu ale jistě se dostává do povědomí a většina nejnovějších mobilních zařízení umí komunikovat nejenom s GPS, ale také s GLONASS, získáváním dat z více než jednoho systému satelitů, poskytuje výrazné zvýšení přesnost polohy. Posledním, zatím nedokončeným je evropský navigační systém Galileo, který má od roku 2012 nové sídlo v Praze, měl být částečně funkční v roce 2015 (18 satelitů) a plně dokončen roku 2019/20 (30 satelitů). Bohužel v roce 2014 přišel systém o dvě nové družice, které měl vynést ruský nosič, bohužel mu selhal poslední stupeň rakety a obě byly vyneseny na špatnou oběžnou dráhu, na které jsou dodnes. Později roku 2014 byla vynesena první družice na správnou oběžnou dráhu, poté byl projekt pozastaven do té doby, než se podaří vyřešit, jak do systému zapojit družice na špatné oběžné dráze.

\section{Požadované vlastnosti}
V honu za kvalitním, ale levným sledovacím zařízením, je nutné nalézt kompromis mezi nízkou cenou a pohodlím zákazníka. Abych tohoto docílil, budu se snažit vyzdvihnout vlastnosti, které neovlivní cenu, ale výrazně posílí funkčnost a tím i konkurence schopnost zařízení. Následující vlastnosti pro mne budou hrát důležitou roli při výběru hardwarových součástek, stejně tak mi pomohou se zaměřit na části kódu, které potřebují být optimalizovány nejlépe.

\subsection{Cena}
Koncept bude primárně zaměřen na minimalizaci případné výrobní ceny, s ohledem na zachování všech funkcí, očekávaných od sledovacího zařízení. Aby byl produkt atraktivní, ale levný, je důležité kvalitní zpracování částí, které neovlivní konečnou cenu zařízení, tedy programové části, která je slabým článkem většiny dostupných modelů, v kategorii levných sledovacích zařízení. Velkou úsporu peněz bude hrát připojení na autobaterii, kde levné modely touto možností neoplývají a jsou cenově zatíženy drahými bateriemi, které jsou mnohdy tou nejdražší částí sledovacího zařízení. Nakonec se budu pokoušet odstranit přebytečné funkce, které zbytečně komplikují provoz a přezpívají k vyšší ceně.

\subsection{Spolehlivost}
Zařízení musí být spolehlivé a poskytovat požadované informace za jakýchkoliv podmínek a to i při nízké ceně vybavení. Pokud jde o poruchovost u běžně dostupných modelů, když vynecháme faktory, které nelze ovlivnit, například nedostupný signál GPS nebo GSM sítě, je na vině buď ztráta signálu, špatným umístěním ve vozidle (o správném umístění je nutné zákazníka informovat), vybití baterie, softwarová chyba která způsobí zacyklení, nebo při provádění různých operací, ignoruje příchozí SMS. Proto je nutné číst a obsloužit všechny doručené SMS a informovat uživatele o všech skutečnostech, například o výpadku signálu, při žádosti o získání polohy.

\subsection{Bezpečnost}
Žádný z dostupných modelů, v cenové hladině pod 6.000 Kč, nemá možnost nastavení řídících čísel, nebo hesla pro obnovení, při jeho ztrátě. Pokud by případný zloděj, zjistit telefonní číslo, ať už odposlechem poblíž vozidla, nebo z telefonu majitele, je schopný deaktivovat zařízení na dálku a odcizit vozidlo bez sebemenší potuchy majitele. Proto je nutné myslet na bezpečnost jak při pokusu o vypnutí z cizího čísla, tak při případném odpojení od zdroje napájení, které by ve finální verzi jistila integrovaná baterie o velice malé kapacitě, která by zajistila pouze odeslání varovné SMS. Je pravděpodobné, že při odpojení od baterie by bylo sledovací zařízení odstraněno z vozidla a delší výdrž by byla zbytečná. Díky tomu se dá ušetřit na ceně, která je z velké části tvořena potřebou velkých baterií.

\subsection{Přívětivost}
SMS s řídícími příkazy musí být jednoduché, uživatelsky přívětivé a snadno zapamatovatelné, aby bylo pro zákazníka ovládání intuitivní a srozumitelné. Nejpřívětivější a nejjednodušší je to, co je pro uživatele nejpřirozenější, tedy běžná slova a věty, stejně tak sledovací zařízení by ve stejné formě mělo i odpovídat. Tedy komunikace mezi uživatelem a sledovacím zařízením by mělo být formou konverzace. Například "Kde jsi", odpověď: "Má poloha bude zaslána během několika minut", později: "Nacházím se na souřadnicích...". Stejně tak instalace zařízení musí být jednoduchá a nesmí jí provázet komplikované nastavování. Vše by mělo fungovat při prvním spuštění automaticky.

\subsection{Vícejazyčnost}
Velkou nevýhodou všech dostupných sledovacích zařízení je orientace pouze jediný jazyk a to Anglický. Jazyka neznalý uživatel může být zmatený a v nestandartních situacích odkázaný pouze na manuál, které některé modely ani nemají. Na vině je primárně to, že většina dostupných modelů je přeprodej čínských zařízení a žádný z českých obchodníků nemá možnost měnit jakékoliv vlastnosti zařízení které prodává. Čínští výrobci u nejlevnějších zařízení mnohdy nedodávají ani manuál, pokud ano, tak čínsky nebo anglicky, takže překlad popřípadě tvorba neexistujícího manuálu závisí na českých prodejcích. Není to problém pouze České republiky, vzhledem k tomu, že se jedná o jednoduchou softwarovou implementaci, základní komunikační rozhraní bude v českém jazyce s možností jednoduchého přepnutí na požadovanou jazykovou lokalizaci. Do finálního produktu bude pouze stačit nahrát dostatečné množství jazykových variant, které vzhledem k nízkému počtu textových řetězců a nenáročnosti jejich uložení v paměti, nebude mít žádný vliv na případnou cenu, které by jinak mohlo být způsobeno nutností navýšení paměti pro data.

\subsection{Nastavitelnost}
Další z nevýhod dostupných produktů je nemožnost jakéhokoliv vlastního nastavení, či personalizace. Ať už se jedná o citlivost senzorů, počet potřebných satelitů pro učení polohy (čím méně satelitů, tím menší přesnost, ale větší šance na získání polohy při špatném signálu), nebo nastavení jednotlivých textových řetězců. Vždy je dobré, aby měl zákazník možnost si své zařízení přizpůsobit dle libosti. Tuto možnost mu zařízení bude nabízet a vzhledem k tomu, že implementace je čistě softwarová a nebude ovlivněna cena.

\subsection{Nenáročnost}
Zařízení musí být nenáročné na údržbu, to znamená i výměna baterií, která by měla být řešena připojením na autobaterii, která dodává energii i když je motor vozidla vypnutý. Na druhou stranu, jeho spotřeba nesmí ovlivnit chod vozu, například vybitím autobaterie. Taková situace může při déle vypnutém motoru nastat velice snadno, protože spotřeba při připojení do sítě GPS je extrémně vysoká. Řešením by mělo být připojení pouze do telefonní sítě GSM, kde se bude čekat na příkazy z autorizovaného telefonního čísla. V případě neoprávněného pohybu vozidla, nelze sledovat pohyb vozu pomocí GPS, protože spotřeba by byla příliš vysoká. Je nutné najít alternativní řešení v podobě jednoho z dostupných senzorů. Běžně využívané jsou vibrační senzory, nebo senzor zrychlení, tedy akcelerometr. Ty zajistí připojení do sítě GPS, pouze v případě pohybu.

\section{Normy}
Not supported yet.

\chapter{Situace na trhu}
Na českém ani žádném sousedním trhu nejsou k dispozici evropské výrobky v kategorii levných sledovacích zařízení, která by byla veřejně dostupná, veškeré zboží je dováženo od čínských dodavatelů, takže žádný z přístrojů nemůže reflektovat požadavky evropských zákazníků. Domácí výrobky existují až od kategorie drahých sledovacích zařízení, které jsou však pro běžného zákazníka nedostupné, nebo jsou zatíženy měsíčními poplatky za využívání služeb jejich poskytovatele. V následujícím textu rozdělím český trh na kategorie a následně se budu věnovat pouze dvěma nejlevnějším kategoriím, protože drahé a specializované systémy nejsou předmětem této práce.

\section{Kategorie}
Vzhledem k tomu, že neexistuje žádné oficiální dělení, roztřídím zařízení na trhu dle cenových hladin, pro které jsou společné specifické vlastnosti a funkce.

\subsection{Levná zařízení (do 2.000, - Kč)}
Kategorie těch nejlevnějších sledovacích zařízení se mnohdy neoznačují ani jako sledovací zařízení pro automobily, většinou jsou určeny pro vhození do tašky, nošení na ruce, nebo přivěšení na klíčenku, kde se sesbíraná data o poloze ukládají na malou paměťovou kartu, ze které jsou později vyčteny do počítače. Jen zřídka mají zařízení v této kategorii možnost odesílání SMS přes síť GSM. Vždy mají integrovanou baterii, která při běžném používání vydrží v rámci jednotek dnů, poté je nutné zařízení dobít. Vyznačují se nemožností napojení na autobaterii nebo jakékoliv nastavení.

\begin{itemize}
\item Baterie (výdrž jednotky dnů)
\item Ukládání polohy na paměťovou kartu
\end{itemize}

\subsection{Střední třída (2.000 až 8.000, - Kč)}
Střední třída je již plnohodnotnou kategorií sledovacích zařízení do automobilů, cena zařízení se ve většině případů pohybuje kolem 6.000, - Kč, nicméně vlastnosti této kategorie se objevují ihned za hranicí 2.000, - Kč. Nejlevnější z této kategorie mají většinou pouze notifikační SMS a baterii s výdrží několika dnů, ale ve většině případů dražších strojů, obsahují silnější baterii, která je schopna vydržet desítky dnů, obsahují levné senzory pohybu, které bohužel nemají nastavitelnou přesnost a ve většině případů je zde možnost měsíčních poplatků za služby webové, nebo mobilní aplikace, ve které je možné nejenom sledovat polohu vozu, ale také nastavit funkci takzvaně geofence, tedy kruhové oblasti kolem zvolené polohy, která když je překročena (například když vozidlo opustí město), zákazník je informován. V krajních případech mají možnost připojení na autobaterii a tedy uložení do motoru vozidla. V jiném případě mají silné magnety, které umožňují přichycení, například na podvozku vozidla. Přes SMS příkazy lze nastavit autorizovaná telefonní čísla.

\begin{itemize}
\item Baterie (výdrž desítky dnů)
\item SMS notifikace
\item Možnost připojení na autobaterii
\item Mobilní/webová aplikace pro sledování polohy za měsíční poplatek
\item Možnost nastavení autorizovaných čísel
\item Magnetické úchytky
\end{itemize}

\subsection{Profesionální řešení (8.000 až 20.000, - Kč)}
Profesionální řešení jsou téměř vždy napojena na autobaterii a na sběrnici vozidla. Jejich dálkovým řízením pomocí webového rozhraní lze napřílad přívod paliva, sledovat stav nádrže a dalších kapalin a efektivně sledovat celou síť firemních vozidel, monitorovat a optimalizovat trasy. Jsou vybaveny silnými bateriemi a jsou odolné proti poškození. Umožnují například připojení kamerových systémů, nebo připojení mikrofonu do kabiny řidiče pro případné urychlené jednání s pojišťovnou. Nicméně jeho provoz a instalace je finančně velice náročná a proto se vyplatí pouze pro společnosti s velkým vozovím parkem. Využití najde i na moři v lodní, kontejnerové dopravdě. Taková to řešení se v České republice snaží poskytovat například firma Jablotron, nicméně jeji služby nejsou přístupné veřejnosti.

\begin{itemize}
\item Bezdrátové řízení a monitoring
\item Připojení na autobaterii
\item Připojení na komunikační sběrnici vozu
\item Baterie (výdrž desítky dnů)
\item Připojení kamerových zařízení včetně mikrofonu
\item Vyžaduje odbornou montáž a údržbu
\end{itemize}

\subsection{Specializovaná zařízení (od 20.000, - Kč)}
Specializovaná zařízení jsou raritou určenou především pro kategorie luxusních vozů s cenou několika milionů a výše. Zařízení jsou sofistikovaně ukryta, jsou jištěna proti odstranění a v případě krádeže vozu umožňují okamžité odpojení a převzetí specifických částí vozu. Například plynulé zastavení vozidla, a další. Monitoring probíhá neustále a bezpečnostní agentura má vždy připravené vlastní vozy, které zabezpečí vozidlo i zloděje. Tyto služby v České republice nabízí například firma SHERLOG, která jako ostatní společnosti ceny nezveřejňuje. Technické zpracování bohužel není známo.

\begin{itemize}
\item Nonstop monitoring
\item Převzetí kontroly vozidla
\item Zajištění vozu v případě krádeže
\end{itemize}

\chapter{Koncept}
Not supported yet.

\section{Blokové schéma}
Not supported yet.

\section{Řídící jednotka}
Not supported yet.

\section{Komunikační modul}
Not supported yet.

\section{Senzor pohybu}
Not supported yet.

\section{Softwarový návrh}
Not supported yet.

\chapter{Prototyp}
Not supported yet.

\section{Vývojová deska Arduino}
Not supported yet.

\section{Komunikační modul GPS/GPRS/GSM}
Not supported yet.

\section{Napájení}
Not supported yet.

\chapter{Závěr}
Not supported yet.

\end{document}